{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\jeiso\\\\Desktop\\\\proyectosESCOM\\\\frontend\\\\ESCOM-view\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\jeiso\\\\Desktop\\\\proyectosESCOM\\\\frontend\\\\ESCOM-view\\\\src\\\\SuperAdministrador\\\\componentes\\\\menu\\\\MenuBlancoSuperior.js\";\nimport React from 'react';\nimport 'react-notifications/lib/notifications.css'; //reactstrap\n\nimport Button from '@material-ui/core/Button';\nimport { UncontrolledPopover, PopoverBody } from 'reactstrap';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Field, reduxForm } from 'redux-form';\nimport RenderPasword from '../../utilitario/GenerarInputs'; //imagenes\n\nimport { requerido } from '../../utilitario/validacionCampos.js';\nimport { withRouter } from 'react-router-dom';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport { connect } from 'react-redux';\nimport { consultarConfiguracion } from '../../actions/actionConfiguracion.js';\nimport { actionCerrarSesion, actualizarMensajeCerrar, actionCambiarContrasena, asignarNombreUsuario, actionConsultarCorreo, actualizarMensajeCambiarContrasena } from '../../actions/actionsUsuario.js';\n\nclass BarraSuperior extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      amount: '',\n      password: '',\n      weight: '',\n      weightRange: '',\n      showPassword: false\n    };\n\n    this.mensaje = () => {\n      var token = localStorage.getItem('Token');\n      this.props.actionCerrarSesion(token);\n    };\n\n    this.handleChange = prop => event => {\n      this.setState(_objectSpread({}, this.state, {\n        [prop]: event.target.value\n      }));\n    };\n\n    this.handleClickShowPassword = () => {\n      this.setState(_objectSpread({}, this.state, {\n        showPassword: !this.state.showPassword\n      }));\n    };\n\n    this.handleMouseDownPassword = event => {\n      event.preventDefault();\n    };\n\n    this.fondobotoon = () => {\n      return this.props.configuracion.barraSuperior === undefined ? {\n        background: 'white',\n        height: \"48px\",\n        padding: \".1rem\"\n      } : {\n        background: this.props.configuracion.barraSuperior,\n        height: \"48px\",\n        padding: \".1rem\"\n      };\n    };\n\n    this.fondoPerfil = () => {\n      return this.props.configuracion.barraSuperior === undefined ? {\n        background: 'white',\n        height: \"48px\",\n        padding: \".5rem\"\n      } : {\n        background: this.props.configuracion.barraSuperior,\n        height: \"48px\",\n        padding: \".5rem\"\n      };\n    };\n\n    this.handleSubmitForm = values => {\n      if (values.nuevaContrasena !== values.verificacionNueva) {\n        NotificationManager.warning('Las contraseñas no coinciden');\n      } else {\n        let clave = {\n          'nuevaClave': values.contrasenaActual,\n          'antiguaClave': values.nuevaContrasena\n        };\n        this.props.actionCambiarContrasena(clave, this.props.emailUsuario, localStorage.getItem('Token'));\n      }\n    };\n\n    this.state = {\n      modal: false\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n    this.props.actionConsultarCorreo(localStorage.getItem('Token'));\n  }\n\n  componentDidMount() {\n    this.props.asignarNombreUsuario(localStorage.getItem('Nombre'));\n  }\n\n  componentDidUpdate() {\n    if (this.props.mensaje !== '') {\n      switch (this.props.mensaje) {\n        case 'cerrada':\n          localStorage.setItem('Token', ' ');\n          this.props.history.go('/');\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    if (this.props.mensajeCambiar !== '') {\n      switch (this.props.mensajeCambiar) {\n        case 'Contraseña cambiada':\n          NotificationManager.success('Contraseña actualizada');\n          this.props.reset();\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    this.props.actualizarMensajeCerrar('');\n    this.props.actualizarMensajeCambiarContrasena('');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"jumbotron p-1 jumbotron-fluid shadow\",\n      style: {\n        background: this.props.configuracion.barraSuperior\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-expand\",\n      style: this.fondoPerfil(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"collapse navbar-collapse\",\n      id: \"navbarSupportedContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"navbar-nav ml-auto mt-2 mt-lg-1 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12 text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"\",\n      width: \"250px\",\n      style: {\n        display: \"inline-block\",\n        verticalAlign: \".255em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(UncontrolledPopover, {\n      trigger: \"focus\",\n      style: {\n        textTransform: \"none\",\n        width: \"250px\"\n      },\n      placement: \"bottom\",\n      target: \"PopoverFocus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(PopoverBody, {\n      className: \"shadow\",\n      style: {\n        width: \"250px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Button, {\n      id: \"cambiarContra\",\n      style: botones,\n      startIcon: React.createElement(VpnKeyIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }),\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Cambiar contrase\\xF1a\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(Button, {\n      id: \"cerrarSesion\",\n      onClick: this.mensaje,\n      startIcon: React.createElement(ExitToAppIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }),\n      style: botones,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Cerrar sesion\"))), React.createElement(Button, {\n      id: \"PopoverFocus\",\n      startIcon: React.createElement(AccountCircleIcon, {\n        style: {\n          fontSize: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }),\n      className: \"dropdown-toggle text-dark\",\n      type: \"button\",\n      style: {\n        background: \"none\",\n        border: \"none\",\n        boxShadow: \"0px 0px 0px 0px\",\n        textTransform: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"username username-hide-on-mobile text-dark letra\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \" \", this.props.nombreUsuario, \" \")), React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      className: this.props.className,\n      style: {\n        maxWidth: '400px',\n        width: '50%',\n        margin: '10px auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Cambiar contrase\\xF1a\"), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.props.handleSubmit(this.handleSubmitForm),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"contrasenaActual\",\n      component: RenderPasword,\n      validate: [requerido],\n      label: \"Contrase\\xF1a actual\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(Field, {\n      name: \"nuevaContrasena\",\n      component: RenderPasword,\n      validate: [requerido],\n      label: \"Nueva contrase\\xF1a\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(Field, {\n      name: \"verificacionNueva\",\n      component: RenderPasword,\n      validate: [requerido],\n      label: \"Confirmar nueva contrase\\xF1a\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        paddingRight: \"120px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        background: this.props.configuracion.botones,\n        fontSize: \"14px\",\n        fontFamily: \"sans-serif\",\n        textTransform: \"none\"\n      },\n      className: \"btn btn-dark\",\n      variant: \"contained\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Cambiar contrase\\xF1a\"))))))))))))));\n  }\n\n}\n\nconst botones = {\n  padding: \"3px\",\n  color: \"black\",\n  width: \"100%\",\n  fontSize: \"14px\",\n  fontFamily: 'sans-serif',\n  background: \"white\",\n  border: \"none\",\n  textTransform: \"none\"\n};\n\nfunction mapStateToProps(state) {\n  return {\n    configuracion: state.conf.configuracion,\n    mensaje: state.user.mensajeCerrarSesion,\n    nombreUsuario: state.user.nombreUsuario,\n    emailUsuario: state.user.emailUsuario,\n    mensajeCambiar: state.user.mensajeContrasena\n  };\n}\n\nlet formularioContrasena = reduxForm({\n  form: \"formularioContrasena\"\n})(BarraSuperior);\nexport default withRouter(connect(mapStateToProps, {\n  consultarConfiguracion,\n  actionCambiarContrasena,\n  actionCerrarSesion,\n  actionConsultarCorreo,\n  actualizarMensajeCerrar,\n  actualizarMensajeCambiarContrasena,\n  asignarNombreUsuario\n})(formularioContrasena));","map":{"version":3,"sources":["C:/Users/jeiso/Desktop/proyectosESCOM/frontend/ESCOM-view/src/SuperAdministrador/componentes/menu/MenuBlancoSuperior.js"],"names":["React","Button","UncontrolledPopover","PopoverBody","Modal","ModalHeader","ModalBody","ModalFooter","Field","reduxForm","RenderPasword","requerido","withRouter","AccountCircleIcon","VpnKeyIcon","ExitToAppIcon","NotificationContainer","NotificationManager","connect","consultarConfiguracion","actionCerrarSesion","actualizarMensajeCerrar","actionCambiarContrasena","asignarNombreUsuario","actionConsultarCorreo","actualizarMensajeCambiarContrasena","BarraSuperior","Component","constructor","props","state","amount","password","weight","weightRange","showPassword","mensaje","token","localStorage","getItem","handleChange","prop","event","setState","target","value","handleClickShowPassword","handleMouseDownPassword","preventDefault","fondobotoon","configuracion","barraSuperior","undefined","background","height","padding","fondoPerfil","handleSubmitForm","values","nuevaContrasena","verificacionNueva","warning","clave","contrasenaActual","emailUsuario","modal","toggle","bind","prevState","componentDidMount","componentDidUpdate","setItem","history","go","mensajeCambiar","success","reset","render","display","verticalAlign","textTransform","width","botones","fontSize","border","boxShadow","nombreUsuario","className","maxWidth","margin","handleSubmit","paddingRight","fontFamily","color","mapStateToProps","conf","user","mensajeCerrarSesion","mensajeContrasena","formularioContrasena","form"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport 'react-notifications/lib/notifications.css';\r\n//reactstrap\r\nimport Button from '@material-ui/core/Button';\r\nimport { UncontrolledPopover, PopoverBody } from 'reactstrap';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport RenderPasword from '../../utilitario/GenerarInputs';\r\n//imagenes\r\nimport { requerido } from '../../utilitario/validacionCampos.js';\r\nimport { withRouter } from 'react-router-dom';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\n\r\n\r\n\r\n\r\nimport { connect } from 'react-redux';\r\nimport { consultarConfiguracion } from '../../actions/actionConfiguracion.js'\r\nimport { actionCerrarSesion, actualizarMensajeCerrar,actionCambiarContrasena, asignarNombreUsuario, actionConsultarCorreo,actualizarMensajeCambiarContrasena } from '../../actions/actionsUsuario.js'\r\n\r\nclass BarraSuperior extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmodal: false\r\n\t\t};\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tamount: '',\r\n\t\tpassword: '',\r\n\t\tweight: '',\r\n\t\tweightRange: '',\r\n\t\tshowPassword: false,\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tmodal: !prevState.modal\r\n\t\t}));\r\n\t\tthis.props.actionConsultarCorreo(localStorage.getItem('Token'));\r\n\t}\r\n\r\n\tmensaje = () => {\r\n\t\tvar token = localStorage.getItem('Token');\r\n\t\tthis.props.actionCerrarSesion(token);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.asignarNombreUsuario(localStorage.getItem('Nombre'));\r\n\t}\r\n\r\n\thandleChange = prop => event => {\r\n\t\tthis.setState({ ...this.state, [prop]: event.target.value });\r\n\t};\r\n\r\n\thandleClickShowPassword = () => {\r\n\t\tthis.setState({ ...this.state, showPassword: !this.state.showPassword });\r\n\t};\r\n\r\n\thandleMouseDownPassword = event => {\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tif (this.props.mensaje !== '') {\r\n\t\t\tswitch (this.props.mensaje) {\r\n\t\t\t\tcase 'cerrada':\r\n\t\t\t\t\tlocalStorage.setItem('Token', ' ');\r\n\t\t\t\t\tthis.props.history.go('/');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.props.mensajeCambiar !== '') {\r\n\t\t\tswitch (this.props.mensajeCambiar) {\r\n\t\t\t\tcase 'Contraseña cambiada':\r\n\t\t\t\t\tNotificationManager.success('Contraseña actualizada');\r\n\t\t\t\t\tthis.props.reset();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.actualizarMensajeCerrar('');\r\n\t\tthis.props.actualizarMensajeCambiarContrasena('');\r\n\t}\r\n\r\n\tfondobotoon = () => {\r\n\t\treturn (this.props.configuracion.barraSuperior === undefined ?\r\n\t\t\t{\r\n\t\t\t\tbackground: 'white',\r\n\t\t\t\theight: \"48px\",\r\n\t\t\t\tpadding: \".1rem\"\r\n\t\t\t} : {\r\n\t\t\t\tbackground: this.props.configuracion.barraSuperior,\r\n\t\t\t\theight: \"48px\",\r\n\t\t\t\tpadding: \".1rem\"\r\n\t\t\t})\r\n\t}\r\n\tfondoPerfil = () => {\r\n\t\treturn (this.props.configuracion.barraSuperior === undefined ?\r\n\t\t\t{\r\n\t\t\t\tbackground: 'white',\r\n\t\t\t\theight: \"48px\",\r\n\t\t\t\tpadding: \".5rem\"\r\n\t\t\t} : {\r\n\t\t\t\tbackground: this.props.configuracion.barraSuperior,\r\n\t\t\t\theight: \"48px\",\r\n\t\t\t\tpadding: \".5rem\"\r\n\t\t\t})\r\n\t}\r\n\r\n\thandleSubmitForm = values => {\r\n\t\tif(values.nuevaContrasena!==values.verificacionNueva){\r\n\t\t\tNotificationManager.warning('Las contraseñas no coinciden');\r\n\t\t}else{\r\n\t\t\tlet clave={\r\n\t\t\t\t'nuevaClave':values.contrasenaActual,\r\n\t\t\t\t'antiguaClave':values.nuevaContrasena\r\n\t\t\t}\r\n\t\t\tthis.props.actionCambiarContrasena(clave,this.props.emailUsuario,localStorage.getItem('Token'));\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"jumbotron p-1 jumbotron-fluid shadow\" style={{ background: this.props.configuracion.barraSuperior }} >\r\n\t\t\t\t\t\t<nav className=\"navbar navbar-expand\" style={this.fondoPerfil()}>\r\n\t\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n\t\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto mt-2 mt-lg-1 \">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-12 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"\" width=\"250px\" style={{ display: \"inline-block\", verticalAlign: \".255em\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<UncontrolledPopover trigger=\"focus\" style={{ textTransform: \"none\", width: \"250px\" }} placement=\"bottom\" target=\"PopoverFocus\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopoverBody className=\"shadow\" style={{ width: \"250px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button id=\"cambiarContra\" style={botones} startIcon={<VpnKeyIcon />} onClick={this.toggle} >Cambiar contraseña</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button id=\"cerrarSesion\" onClick={this.mensaje} startIcon={<ExitToAppIcon />} style={botones}>Cerrar sesion</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</PopoverBody>\r\n\t\t\t\t\t\t\t\t\t\t\t</UncontrolledPopover>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <img src={persona} alt=\"\" width=\"30\" height=\"30\" /> */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Button id=\"PopoverFocus\" startIcon={<AccountCircleIcon style={{ fontSize: 40 }} />} className=\"dropdown-toggle text-dark\" type=\"button\" style={{ background: \"none\", border: \"none\", boxShadow: \"0px 0px 0px 0px\", textTransform: \"none\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"username username-hide-on-mobile text-dark letra\"> {this.props.nombreUsuario} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Modal isOpen={this.state.modal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggle={this.toggle}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={this.props.className}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '400px', width: '50%', margin: '10px auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ModalHeader toggle={this.toggle} className=\"center\">Cambiar contraseña</ModalHeader>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={this.props.handleSubmit(this.handleSubmitForm)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field name=\"contrasenaActual\" component={RenderPasword} validate={[requerido]} label=\"Contraseña actual\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field name=\"nuevaContrasena\" component={RenderPasword} validate={[requerido]} label=\"Nueva contraseña\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field name=\"verificacionNueva\" component={RenderPasword} validate={[requerido]} label=\"Confirmar nueva contraseña\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ModalFooter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ paddingRight: \"120px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ background: this.props.configuracion.botones, fontSize: \"14px\", fontFamily: \"sans-serif\", textTransform: \"none\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-dark\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCambiar contraseña\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ModalFooter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ModalBody>\r\n\t\t\t\t\t\t\t\t\t\t\t</Modal>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst botones = {\r\n\tpadding: \"3px\",\r\n\tcolor: \"black\",\r\n\twidth: \"100%\",\r\n\tfontSize: \"14px\",\r\n\tfontFamily: 'sans-serif',\r\n\tbackground: \"white\",\r\n\tborder: \"none\",\r\n\ttextTransform: \"none\"\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tconfiguracion: state.conf.configuracion,\r\n\t\tmensaje: state.user.mensajeCerrarSesion,\r\n\t\tnombreUsuario: state.user.nombreUsuario,\r\n\t\temailUsuario: state.user.emailUsuario,\r\n\t\tmensajeCambiar: state.user.mensajeContrasena\r\n\t}\r\n}\r\n\r\nlet formularioContrasena = reduxForm({\r\n\tform: \"formularioContrasena\"\r\n})(BarraSuperior);\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, { consultarConfiguracion, actionCambiarContrasena,actionCerrarSesion, actionConsultarCorreo, actualizarMensajeCerrar,actualizarMensajeCambiarContrasena, asignarNombreUsuario })(formularioContrasena));\r\n\r\n"]},"metadata":{},"sourceType":"module"}