{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\jeiso\\\\Desktop\\\\proyectosESCOM\\\\frontend\\\\ESCOM-view\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\jeiso\\\\Desktop\\\\proyectosESCOM\\\\frontend\\\\ESCOM-view\\\\src\\\\SuperAdministrador\\\\componentes\\\\reportes\\\\ContenidoReportes.js\";\nimport React from 'react';\nimport 'react-notifications/lib/notifications.css';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport axios from 'axios';\nimport MaterialTable from 'material-table'; //componentes\n\nimport { makeStyles, useTheme, withStyles } from '@material-ui/core/styles';\nimport MTableToolbar from '../../utilitario/MTableToolbar.js';\nimport { generarInput, generarDate } from '../../utilitario/GenerarInputs.js';\nimport { TablePagination } from '@material-ui/core';\nimport Barra from '../general/BarraDirecciones.js';\nimport { formatoFecha } from '../../utilitario/MensajesError.js';\nimport { seleccione } from '../../utilitario/validacionCampos.js';\nimport { validacionDoscientosCaracteres, requerido } from '../../utilitario/validacionCampos.js';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Select from 'react-select';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport { connect } from 'react-redux';\nimport { actionConsultarReporte, actualizarReporte, actualizarMensaje, actionConsultarReporteCantidad, actionConsultarReporteTotal } from '../../actions/actionReporte.js';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport { reduxForm, Field } from 'redux-form';\nimport { withRouter } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport jsPDF from \"jspdf\";\nimport { desencriptar } from '../../componentes/general/Encriptar.js';\nimport { URL_BASE } from '../../utilitario/Configuracion.js';\nimport \"jspdf-autotable\";\n\nclass ContenidoReportes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      valor: null,\n      textoAyuda: 'Buscar',\n      fechaInicio: [],\n      fechaFin: [],\n      page: 0,\n      rowsPerPage: 5,\n      reporte: []\n    };\n\n    this.retornarValor = () => {\n      return this.state.valor;\n    };\n\n    this.handleChangePage = (event, newPage) => {\n      this.setState({\n        page: newPage\n      });\n      this.props.actionConsultarReporte(localStorage.getItem('Token'), this.state.reporte, this.state.rowsPerPage, newPage);\n      this.props.actionConsultarReporteCantidad(localStorage.getItem('Token'), this.state.reporte);\n    };\n\n    this.handleChangeRowsPerPage = event => {\n      this.setState({\n        rowsPerPage: +event.target.value\n      });\n      this.setState({\n        page: 0\n      });\n      this.props.actionConsultarReporteCantidad(localStorage.getItem('Token'), this.state.reporte);\n      this.props.actionConsultarReporte(localStorage.getItem('Token'), this.state.reporte, +event.target.value, 0);\n    };\n\n    this.handleChangeDos = selectedOption => {\n      switch (selectedOption.value) {\n        case 1:\n          this.setState({\n            textoAyuda: 'Ingrese el correo o numero de identificacion del usuario'\n          });\n          break;\n\n        case 2:\n          this.setState({\n            textoAyuda: 'Ingrese el nombre del modulo '\n          });\n          break;\n\n        case 3:\n          this.setState({\n            textoAyuda: 'Ingrese una palabra clave de la actividad'\n          });\n          break;\n\n        default:\n          this.setState({\n            textoAyuda: 'Buscar'\n          });\n          break;\n      }\n\n      this.setState({\n        valor: selectedOption\n      });\n    };\n\n    this.actividades = () => {\n      let opciones = [];\n      opciones[0] = {\n        label: 'Usuarios',\n        value: 1\n      };\n      opciones[1] = {\n        label: 'Modulos',\n        value: 2\n      };\n      opciones[2] = {\n        label: 'Actividades',\n        value: 3\n      };\n      return opciones;\n    };\n\n    this.handleSubmit = formValues => {\n      this.props.actualizarReporte();\n      this.props.actualizarMensaje('');\n\n      if (this.validarFechas(formatoFecha(formValues.fechaInicio), formatoFecha(formValues.fechaFin))) {\n        let reporte = {\n          idBusqueda: formValues.actividad.value,\n          palabraBusqueda: formValues.palabraBusqueda,\n          fechaInicio: formatoFecha(formValues.fechaInicio),\n          fechaFin: formatoFecha(formValues.fechaFin)\n        };\n        this.setState({\n          reporte: reporte\n        });\n        this.setState({\n          fechaInicio: formatoFecha(formValues.fechaInicio)\n        });\n        this.setState({\n          fechaFin: formatoFecha(formValues.fechaFin)\n        });\n        this.props.actionConsultarReporte(localStorage.getItem('Token'), reporte, this.state.rowsPerPage, this.state.page);\n        this.props.actionConsultarReporteCantidad(localStorage.getItem('Token'), reporte);\n      }\n    };\n\n    this.validarFechas = (fechaInicio, fechaFin) => {\n      if (fechaInicio > fechaFin) {\n        NotificationManager.warning('Ingrese un rango de fechas valido');\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.devolverFechaString = fechaRecibida => {\n      let meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\n      let dia = fechaRecibida.getDate();\n      let mes = fechaRecibida.getUTCMonth();\n      let ano = fechaRecibida.getFullYear();\n      return `${dia}-${meses[mes]}-${ano}`;\n    };\n\n    this.exportPDF = () => {\n      try {\n        const headers = {\n          'Content-Type': 'application/json; charset=UTF-8',\n          'TokenAuto': desencriptar(localStorage.getItem('Token')),\n          'Permiso': 'SA_Realizar reportes'\n        };\n        axios.post(`${URL_BASE}/proyectosESCOM-web/api/bitacora/consultarTotal/`, this.state.reporte, {\n          headers: headers\n        }).then(response => {\n          let informe = response.data;\n\n          if (informe.length === 0 | informe === undefined) {\n            NotificationManager.error('No hay datos para exportar');\n          } else {\n            var doc = new jsPDF();\n            var totalPagesExp = this.calcularNumeroDePaginas();\n            const headers = [[\"OPERACION\", \"MODULO\", \"TABLA INVOLUCRADA\", \"FECHA BITACORA\", \"CORREO DEL RESPONSABLE\", \"IP         \"]];\n            const data = informe.map(elt => [elt.operacion, elt.nombreModulo, elt.tablaInvolucrada, elt.fechaBitacora, elt.correo, elt.ip]);\n            const logo = this.props.configuracion.logo;\n            let fechaHoy = new Date();\n            const fecha = this.devolverFechaString(fechaHoy);\n            const fechaInicio = this.devolverFechaString(this.state.fechaInicio);\n            const fechaFin = this.devolverFechaString(this.state.fechaFin);\n            doc.autoTable({\n              head: headers,\n              body: data,\n              headStyles: {\n                fontSize: 8\n              },\n              bodyStyles: {\n                fontSize: 8\n              },\n              alternateRowStyles: {\n                fontSize: 8\n              },\n              didDrawPage: function (data) {\n                // Header\n                doc.setFontSize(10);\n                doc.setTextColor(40);\n                doc.setFontStyle('normal');\n                doc.addImage(logo, 'PNG', data.settings.margin.left, 8, 43, 15);\n                doc.text('Fecha de generacion: ' + fecha, data.settings.margin.left + 125, 12);\n                doc.text('Fecha de inicio: ' + fechaInicio, data.settings.margin.left + 125, 16);\n                doc.text('Fecha de fin: ' + fechaFin, data.settings.margin.left + 125, 20); // Footer\n\n                var str = 'Pagina ' + doc.internal.getNumberOfPages(); // Total page number plugin only available in jspdf v1.0+\n\n                if (typeof doc.putTotalPages === 'function') {\n                  str = str + ' de ' + totalPagesExp;\n                }\n\n                doc.setFontSize(10); // jsPDF 1.4+ uses getWidth, <1.4 uses .width\n\n                var pageSize = doc.internal.pageSize;\n                var pageHeight = pageSize.height ? pageSize.height : pageSize.getHeight();\n                doc.text(str, data.settings.margin.left, pageHeight - 10);\n              },\n              margin: {\n                top: 30\n              }\n            });\n            doc.save(`reporte de ${fecha}.pdf`);\n          }\n        }).catch(error => {\n          NotificationManager.error(`Ocurrio un error intentelo de nuevo `);\n        });\n      } catch (error) {\n        NotificationManager.error(`Ocurrio un error intentelo de nuevo `);\n      }\n    };\n\n    this.reiniciar = this.reiniciar.bind(this);\n    this.exportPDF = this.exportPDF.bind(this);\n    this.handleChangeRowsPerPage = this.handleChangeRowsPerPage.bind(this);\n  }\n\n  componentDidUpdate() {\n    if (this.props.mensaje !== '') {\n      switch (this.props.mensaje) {\n        case 'No se encontraron reportes':\n          NotificationManager.warning('No se encontraron resultados');\n          break;\n\n        case 'Sin permiso':\n          NotificationManager.error('No tiene permisos para realizar reportes');\n          break;\n\n        case 'Ocurrio un error en el servidor':\n          NotificationManager.error('Ocurrio un error en el servidor');\n          break;\n\n        case 'Servidor fuera de servicio temporalmente':\n          NotificationManager.error('Servidor fuera de servicio temporalmente');\n          break;\n\n        case 'Token requerido':\n          localStorage.removeItem('Token');\n          window.location.href = \"/\";\n          break;\n\n        case 'token vencido':\n          localStorage.removeItem('Token');\n          window.location.href = \"/\";\n          break;\n\n        case 'token no registrado':\n          localStorage.removeItem('Token');\n          window.location.href = \"/\";\n          break;\n\n        case 'token incorrecto':\n          localStorage.removeItem('Token');\n          window.location.href = \"/\";\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    this.props.actualizarMensaje('');\n  }\n\n  reiniciar() {\n    this.props.actualizarMensaje('');\n    this.setState({\n      valor: null\n    });\n    this.setState({\n      textoAyuda: 'Buscar'\n    });\n    this.props.actualizarReporte();\n    this.props.reset();\n  }\n\n  calcularNumeroDePaginas() {\n    if (!(this.props.reporte.length === 0 | this.props.reporte === undefined)) {\n      return Math.round(this.props.reporte.length / 30) + 1;\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          page = _this$state.page,\n          rowsPerPage = _this$state.rowsPerPage;\n    const _this$props = this.props,\n          cantidad = _this$props.cantidad,\n          reporte = _this$props.reporte;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-left titulo\",\n      style: estiloLetrero,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Reportes\")), React.createElement(Barra, {\n      texto: \"Inicio > Reportes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      style: {\n        paddingTop: \"20px\",\n        paddingRight: \"46px\",\n        paddingLeft: \"40px\",\n        paddingBottom: \"7px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        paddingTop: \"7px\",\n        paddingRight: \"44px\",\n        paddingLeft: \"40px\",\n        paddingBottom: \"0px\",\n        margin: \"0px 0px 32px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container shadow\",\n      style: {\n        background: \"white\",\n        padding: \"27px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.props.handleSubmit(this.handleSubmit),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      style: {\n        paddingTop: \"15px\",\n        zIndex: '2'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"actividad\",\n      validate: [seleccione],\n      valor: this.retornarValor(),\n      onChange: this.handleChangeDos,\n      component: ReduxFormSelectDos,\n      options: this.actividades(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"palabraBusqueda\",\n      component: generarInput,\n      validate: [validacionDoscientosCaracteres, requerido],\n      className: \"form-control\",\n      label: this.state.textoAyuda,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      style: {\n        paddingTop: \"20px\",\n        paddingRight: \"2px\",\n        paddingLeft: \"15px\",\n        paddingBottom: \"2px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      style: {\n        zIndex: '0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"fechaInicio\",\n      type: \"date\",\n      validate: [requerido],\n      component: generarDate,\n      label: \"Fecha de inicio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"fechaFin\",\n      type: \"date\",\n      component: generarDate,\n      validate: [requerido],\n      label: \"Fecha de fin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      style: {\n        paddingTop: \"20px\",\n        paddingRight: \"2px\",\n        paddingLeft: \"15px\",\n        paddingBottom: \"2px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      style: {\n        paddingLeft: \"300px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      startIcon: React.createElement(SearchIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }),\n      className: \"btn btn-dark\",\n      style: {\n        background: this.props.configuracion.botones,\n        fontSize: \"14px\",\n        textTransform: \"none\"\n      },\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Buscar\")), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.reiniciar,\n      className: \"btn btn-dark\",\n      style: {\n        background: \"gray\",\n        fontSize: \"14px\",\n        textTransform: \"none\"\n      },\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(ReplayIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    })))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }), React.createElement(Divider, {\n      variant: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }), reporte.length === 0 ? React.createElement(React.Fragment, null) : React.createElement(React.Fragment, null, React.createElement(TableContainer, {\n      component: Paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(StyledTableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"Operacion\"), React.createElement(StyledTableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, \"Nombre del modulo\"), React.createElement(StyledTableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, \"Tabla involucrada\"), React.createElement(StyledTableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, \"Fecha de bitacora\"), React.createElement(StyledTableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, \"Correo del responsable\"), React.createElement(StyledTableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, \"Ip\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, this.props.reporte.map((p, index) => {\n      return React.createElement(StyledTableRow, {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(StyledTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, p.operacion), React.createElement(StyledTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, p.nombreModulo), React.createElement(StyledTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, p.tablaInvolucrada), React.createElement(StyledTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, p.fechaBitacora), React.createElement(StyledTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, p.correo), React.createElement(StyledTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, p.ip));\n    })), React.createElement(TableFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, React.createElement(TablePagination, {\n      labelDisplayedRows: ({\n        from,\n        to,\n        count,\n        otro\n      }) => {\n        return `${from}-${to === -1 ? count : to} de ${count}`;\n      },\n      labelRowsPerPage: `Registros por página:`,\n      rowsPerPageOptions: [5, 10, 15],\n      count: cantidad,\n      rowsPerPage: rowsPerPage,\n      page: page,\n      onChangePage: this.handleChangePage,\n      onChangeRowsPerPage: this.handleChangeRowsPerPage,\n      ActionsComponent: TablePaginationActions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        paddingLeft: \"400px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: () => this.exportPDF(),\n      startIcon: React.createElement(PictureAsPdfIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }),\n      className: \"btn btn-dark\",\n      style: {\n        background: \"#DF1417\",\n        fontSize: \"14px\",\n        textTransform: \"none\"\n      },\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, \"Generar PDF\"))))), React.createElement(NotificationContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst useStyles1 = makeStyles(theme => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5)\n  }\n}));\nexport const TablePaginationActions = props => {\n  const classes = useStyles1();\n  const theme = useTheme();\n  const count = props.count,\n        page = props.page,\n        rowsPerPage = props.rowsPerPage,\n        onChangePage = props.onChangePage;\n\n  const handleFirstPageButtonClick = event => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = event => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = event => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = event => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    onClick: handleFirstPageButtonClick,\n    disabled: page === 0,\n    \"aria-label\": \"first page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(LastPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457\n    },\n    __self: this\n  }) : React.createElement(FirstPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457\n    },\n    __self: this\n  })), React.createElement(IconButton, {\n    onClick: handleBackButtonClick,\n    disabled: page === 0,\n    \"aria-label\": \"previous page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowRight, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460\n    },\n    __self: this\n  }) : React.createElement(KeyboardArrowLeft, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460\n    },\n    __self: this\n  })), React.createElement(IconButton, {\n    onClick: handleNextButtonClick,\n    disabled: page >= Math.ceil(count / rowsPerPage) - 1,\n    \"aria-label\": \"next page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowLeft, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467\n    },\n    __self: this\n  }) : React.createElement(KeyboardArrowRight, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467\n    },\n    __self: this\n  })), React.createElement(IconButton, {\n    onClick: handleLastPageButtonClick,\n    disabled: page >= Math.ceil(count / rowsPerPage) - 1,\n    \"aria-label\": \"last page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(FirstPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474\n    },\n    __self: this\n  }) : React.createElement(LastPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474\n    },\n    __self: this\n  })));\n};\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: '#e7ecf1',\n    color: 'black',\n    fontSize: 14,\n    fontFamily: 'sans-serif',\n    padding: '8px'\n  },\n  body: {\n    fontSize: 13,\n    fontFamily: 'sans-serif',\n    padding: '10px'\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.background.default\n    }\n  }\n}))(TableRow);\nexport const ReduxFormSelectDos = props => {\n  const customStyles = {\n    option: (provided, state) => _objectSpread({}, provided, {\n      fontSize: 13\n    }),\n    control: styles => _objectSpread({}, styles, {\n      backgroundColor: 'white',\n      fontSize: 13,\n      fontFamily: 'sans-serif',\n      zIndex: \"0\"\n    }),\n    singleValue: (provided, state) => {\n      const opacity = state.isDisabled ? 0.5 : 1;\n      const transition = 'opacity 300ms';\n      return _objectSpread({}, provided, {\n        opacity,\n        transition\n      });\n    }\n  };\n  const input = props.input,\n        options = props.options;\n  const _props$meta = props.meta,\n        touched = _props$meta.touched,\n        error = _props$meta.error;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519\n    },\n    __self: this\n  }, React.createElement(Select, Object.assign({}, input, {\n    styles: customStyles,\n    maxMenuHeight: 185,\n    isSearchable: true,\n    value: props.valor,\n    placeholder: \"Seleccione\",\n    onChange: value => input.onChange(value),\n    onBlur: () => input.onBlur(input.value),\n    options: options,\n    noOptionsMessage: () => 'No hay ninguna actividad que mostrar',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520\n    },\n    __self: this\n  })), touched && error && React.createElement(\"span\", {\n    className: \"text-danger letra form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532\n    },\n    __self: this\n  }, error));\n};\nconst estiloCabecera = {\n  fontSize: '14px',\n  fontFamily: 'sans-serif',\n  padding: '8px',\n  background: '#e7ecf1'\n};\nconst estiloFila = {\n  fontSize: '13px',\n  fontFamily: 'sans-serif',\n  padding: '8px'\n};\nconst estiloLetrero = {\n  paddingTop: \"20px\",\n  paddingRight: \"12px\",\n  paddingLeft: \"40px\",\n  paddingBottom: \"1px\"\n};\n\nfunction mapStateToProps(state) {\n  return {\n    reporte: state.rep.reporte,\n    mensaje: state.rep.mensajeReporte,\n    configuracion: state.conf.configuracion,\n    cantidad: state.rep.cantidad,\n    reporteTotal: state.rep.reporteTotal\n  };\n}\n\nlet reporte = reduxForm({\n  form: 'reporte'\n})(ContenidoReportes);\nexport default withRouter(connect(mapStateToProps, {\n  actionConsultarReporte,\n  actualizarReporte,\n  actionConsultarReporteTotal,\n  actualizarMensaje,\n  actionConsultarReporteCantidad\n})(reporte));","map":{"version":3,"sources":["C:/Users/jeiso/Desktop/proyectosESCOM/frontend/ESCOM-view/src/SuperAdministrador/componentes/reportes/ContenidoReportes.js"],"names":["React","Button","Divider","axios","MaterialTable","makeStyles","useTheme","withStyles","MTableToolbar","generarInput","generarDate","TablePagination","Barra","formatoFecha","seleccione","validacionDoscientosCaracteres","requerido","Table","TableBody","TableCell","TableContainer","TableFooter","TableHead","TableRow","Paper","Select","SearchIcon","ReplayIcon","PictureAsPdfIcon","connect","actionConsultarReporte","actualizarReporte","actualizarMensaje","actionConsultarReporteCantidad","actionConsultarReporteTotal","NotificationContainer","NotificationManager","reduxForm","Field","withRouter","IconButton","FirstPageIcon","KeyboardArrowLeft","KeyboardArrowRight","LastPageIcon","jsPDF","desencriptar","URL_BASE","ContenidoReportes","Component","constructor","props","state","valor","textoAyuda","fechaInicio","fechaFin","page","rowsPerPage","reporte","retornarValor","handleChangePage","event","newPage","setState","localStorage","getItem","handleChangeRowsPerPage","target","value","handleChangeDos","selectedOption","actividades","opciones","label","handleSubmit","formValues","validarFechas","idBusqueda","actividad","palabraBusqueda","warning","devolverFechaString","fechaRecibida","meses","dia","getDate","mes","getUTCMonth","ano","getFullYear","exportPDF","headers","post","then","response","informe","data","length","undefined","error","doc","totalPagesExp","calcularNumeroDePaginas","map","elt","operacion","nombreModulo","tablaInvolucrada","fechaBitacora","correo","ip","logo","configuracion","fechaHoy","Date","fecha","autoTable","head","body","headStyles","fontSize","bodyStyles","alternateRowStyles","didDrawPage","setFontSize","setTextColor","setFontStyle","addImage","settings","margin","left","text","str","internal","getNumberOfPages","putTotalPages","pageSize","pageHeight","height","getHeight","top","save","catch","reiniciar","bind","componentDidUpdate","mensaje","removeItem","window","location","href","reset","Math","round","render","cantidad","estiloLetrero","paddingTop","paddingRight","paddingLeft","paddingBottom","background","padding","zIndex","ReduxFormSelectDos","botones","textTransform","p","index","from","to","count","otro","TablePaginationActions","useStyles1","theme","root","flexShrink","marginLeft","spacing","classes","onChangePage","handleFirstPageButtonClick","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","max","ceil","direction","StyledTableCell","backgroundColor","color","fontFamily","StyledTableRow","palette","default","customStyles","option","provided","control","styles","singleValue","opacity","isDisabled","transition","input","options","meta","touched","onChange","onBlur","estiloCabecera","estiloFila","mapStateToProps","rep","mensajeReporte","conf","reporteTotal","form"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport axios from 'axios';\r\nimport MaterialTable from 'material-table';\r\n//componentes\r\nimport { makeStyles, useTheme, withStyles } from '@material-ui/core/styles';\r\nimport MTableToolbar from '../../utilitario/MTableToolbar.js';\r\nimport { generarInput, generarDate } from '../../utilitario/GenerarInputs.js'\r\nimport { TablePagination } from '@material-ui/core';\r\nimport Barra from '../general/BarraDirecciones.js'\r\nimport { formatoFecha } from '../../utilitario/MensajesError.js';\r\nimport { seleccione } from '../../utilitario/validacionCampos.js';\r\nimport { validacionDoscientosCaracteres, requerido } from '../../utilitario/validacionCampos.js'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Select from 'react-select'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport { connect } from 'react-redux';\r\nimport { actionConsultarReporte, actualizarReporte, actualizarMensaje, actionConsultarReporteCantidad, actionConsultarReporteTotal } from '../../actions/actionReporte.js';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { withRouter } from 'react-router-dom';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport jsPDF from \"jspdf\";\r\nimport { desencriptar } from '../../componentes/general/Encriptar.js';\r\nimport { URL_BASE } from '../../utilitario/Configuracion.js';\r\nimport \"jspdf-autotable\";\r\n\r\nclass ContenidoReportes extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.reiniciar = this.reiniciar.bind(this);\r\n\t\tthis.exportPDF = this.exportPDF.bind(this);\r\n\t\tthis.handleChangeRowsPerPage = this.handleChangeRowsPerPage.bind(this);\r\n\t}\r\n\tstate = {\r\n\t\tvalor: null,\r\n\t\ttextoAyuda: 'Buscar',\r\n\t\tfechaInicio: [],\r\n\t\tfechaFin: [],\r\n\t\tpage: 0,\r\n\t\trowsPerPage: 5,\r\n\t\treporte: []\r\n\t}\r\n\r\n\tretornarValor = () => {\r\n\t\treturn this.state.valor;\r\n\t}\r\n\r\n\thandleChangePage = (event, newPage) => {\r\n\t\tthis.setState({ page: newPage });\r\n\t\tthis.props.actionConsultarReporte(localStorage.getItem('Token'), this.state.reporte, this.state.rowsPerPage, newPage);\r\n\t\tthis.props.actionConsultarReporteCantidad(localStorage.getItem('Token'), this.state.reporte);\r\n\t};\r\n\r\n\thandleChangeRowsPerPage = (event) => {\r\n\t\tthis.setState({ rowsPerPage: +event.target.value })\r\n\t\tthis.setState({ page: 0 });\r\n\t\tthis.props.actionConsultarReporteCantidad(localStorage.getItem('Token'), this.state.reporte);\r\n\t\tthis.props.actionConsultarReporte(localStorage.getItem('Token'), this.state.reporte, +event.target.value, 0);\r\n\t};\r\n\r\n\thandleChangeDos = selectedOption => {\r\n\t\tswitch (selectedOption.value) {\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.setState({ textoAyuda: 'Ingrese el correo o numero de identificacion del usuario' })\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.setState({ textoAyuda: 'Ingrese el nombre del modulo ' })\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.setState({ textoAyuda: 'Ingrese una palabra clave de la actividad' })\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.setState({ textoAyuda: 'Buscar' })\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t\tthis.setState({ valor: selectedOption });\r\n\t};\r\n\r\n\tactividades = () => {\r\n\t\tlet opciones = [];\r\n\t\topciones[0] = {\r\n\t\t\tlabel: 'Usuarios',\r\n\t\t\tvalue: 1,\r\n\t\t}\r\n\t\topciones[1] = {\r\n\t\t\tlabel: 'Modulos',\r\n\t\t\tvalue: 2,\r\n\t\t}\r\n\t\topciones[2] = {\r\n\t\t\tlabel: 'Actividades',\r\n\t\t\tvalue: 3,\r\n\t\t}\r\n\t\treturn opciones;\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tif (this.props.mensaje !== '') {\r\n\t\t\tswitch (this.props.mensaje) {\r\n\t\t\t\tcase 'No se encontraron reportes':\r\n\t\t\t\t\tNotificationManager.warning('No se encontraron resultados');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Sin permiso':\r\n\t\t\t\t\tNotificationManager.error('No tiene permisos para realizar reportes');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Ocurrio un error en el servidor':\r\n\t\t\t\t\tNotificationManager.error('Ocurrio un error en el servidor');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Servidor fuera de servicio temporalmente':\r\n\t\t\t\t\tNotificationManager.error('Servidor fuera de servicio temporalmente');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Token requerido':\r\n\t\t\t\t\tlocalStorage.removeItem('Token');\r\n\t\t\t\t\twindow.location.href = \"/\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'token vencido':\r\n\t\t\t\t\tlocalStorage.removeItem('Token');\r\n\t\t\t\t\twindow.location.href = \"/\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'token no registrado':\r\n\t\t\t\t\tlocalStorage.removeItem('Token');\r\n\t\t\t\t\twindow.location.href = \"/\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'token incorrecto':\r\n\t\t\t\t\tlocalStorage.removeItem('Token');\r\n\t\t\t\t\twindow.location.href = \"/\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.actualizarMensaje('');\r\n\t}\r\n\r\n\r\n\r\n\thandleSubmit = formValues => {\r\n\t\tthis.props.actualizarReporte();\r\n\t\tthis.props.actualizarMensaje('');\r\n\t\tif (this.validarFechas(formatoFecha(formValues.fechaInicio), formatoFecha(formValues.fechaFin))) {\r\n\t\t\tlet reporte = {\r\n\t\t\t\tidBusqueda: formValues.actividad.value,\r\n\t\t\t\tpalabraBusqueda: formValues.palabraBusqueda,\r\n\t\t\t\tfechaInicio: formatoFecha(formValues.fechaInicio),\r\n\t\t\t\tfechaFin: formatoFecha(formValues.fechaFin)\r\n\t\t\t}\r\n\t\t\tthis.setState({ reporte: reporte });\r\n\t\t\tthis.setState({ fechaInicio: formatoFecha(formValues.fechaInicio) });\r\n\t\t\tthis.setState({ fechaFin: formatoFecha(formValues.fechaFin) });\r\n\t\t\tthis.props.actionConsultarReporte(localStorage.getItem('Token'), reporte, this.state.rowsPerPage, this.state.page);\r\n\t\t\tthis.props.actionConsultarReporteCantidad(localStorage.getItem('Token'), reporte);\r\n\t\t}\r\n\t}\r\n\r\n\tvalidarFechas = (fechaInicio, fechaFin) => {\r\n\t\tif (fechaInicio > fechaFin) {\r\n\t\t\tNotificationManager.warning('Ingrese un rango de fechas valido');\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\treiniciar() {\r\n\t\tthis.props.actualizarMensaje('');\r\n\t\tthis.setState({ valor: null });\r\n\t\tthis.setState({ textoAyuda: 'Buscar' })\r\n\t\tthis.props.actualizarReporte();\r\n\t\tthis.props.reset();\r\n\t}\r\n\r\n\tdevolverFechaString = fechaRecibida => {\r\n\t\tlet meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\r\n\t\tlet dia = fechaRecibida.getDate();\r\n\t\tlet mes = fechaRecibida.getUTCMonth();\r\n\t\tlet ano = fechaRecibida.getFullYear();\r\n\t\treturn `${dia}-${meses[mes]}-${ano}`;\r\n\t}\r\n\r\n\tcalcularNumeroDePaginas() {\r\n\t\tif (!(this.props.reporte.length === 0 | this.props.reporte === undefined)) {\r\n\t\t\treturn Math.round(this.props.reporte.length / 30) + 1;\r\n\t\t}\r\n\t}\r\n\r\n\texportPDF = () => {\r\n\t\ttry {\r\n\t\t\tconst headers = {\r\n\t\t\t\t'Content-Type': 'application/json; charset=UTF-8',\r\n\t\t\t\t'TokenAuto': desencriptar(localStorage.getItem('Token')),\r\n\t\t\t\t'Permiso': 'SA_Realizar reportes'\r\n\t\t\t}\r\n\t\t\taxios.post(`${URL_BASE}/proyectosESCOM-web/api/bitacora/consultarTotal/`, this.state.reporte, { headers: headers })\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tlet informe=response.data;\r\n\t\t\t\t\tif (informe.length === 0 | informe === undefined) {\r\n\t\t\t\t\t\tNotificationManager.error('No hay datos para exportar');\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tvar doc = new jsPDF()\r\n\t\t\t\t\t\tvar totalPagesExp = this.calcularNumeroDePaginas();\r\n\t\t\t\t\t\tconst headers = [[\"OPERACION\", \"MODULO\", \"TABLA INVOLUCRADA\", \"FECHA BITACORA\", \"CORREO DEL RESPONSABLE\", \"IP         \"]];\r\n\t\t\t\t\t\tconst data = informe.map(elt => [elt.operacion, elt.nombreModulo, elt.tablaInvolucrada, elt.fechaBitacora, elt.correo, elt.ip]);\r\n\t\t\t\t\t\tconst logo = this.props.configuracion.logo;\r\n\t\t\t\t\t\tlet fechaHoy = new Date();\r\n\t\t\t\t\t\tconst fecha = this.devolverFechaString(fechaHoy);\r\n\t\t\t\t\t\tconst fechaInicio = this.devolverFechaString(this.state.fechaInicio);\r\n\t\t\t\t\t\tconst fechaFin = this.devolverFechaString(this.state.fechaFin);\r\n\t\t\t\t\t\tdoc.autoTable({\r\n\r\n\t\t\t\t\t\t\thead: headers,\r\n\t\t\t\t\t\t\tbody: data,\r\n\t\t\t\t\t\t\theadStyles: {\r\n\t\t\t\t\t\t\t\tfontSize: 8,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbodyStyles: {\r\n\t\t\t\t\t\t\t\tfontSize: 8,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\talternateRowStyles: {\r\n\t\t\t\t\t\t\t\tfontSize: 8,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdidDrawPage: function (data) {\r\n\t\t\t\t\t\t\t\t// Header\r\n\t\t\t\t\t\t\t\tdoc.setFontSize(10);\r\n\t\t\t\t\t\t\t\tdoc.setTextColor(40);\r\n\t\t\t\t\t\t\t\tdoc.setFontStyle('normal');\r\n\t\t\t\t\t\t\t\tdoc.addImage(logo, 'PNG', data.settings.margin.left, 8, 43, 15);\r\n\t\t\t\t\t\t\t\tdoc.text('Fecha de generacion: ' + fecha, data.settings.margin.left + 125, 12);\r\n\t\t\t\t\t\t\t\tdoc.text('Fecha de inicio: ' + fechaInicio, data.settings.margin.left + 125, 16);\r\n\t\t\t\t\t\t\t\tdoc.text('Fecha de fin: ' + fechaFin, data.settings.margin.left + 125, 20);\r\n\t\t\t\t\t\t\t\t// Footer\r\n\t\t\t\t\t\t\t\tvar str = 'Pagina ' + doc.internal.getNumberOfPages()\r\n\t\t\t\t\t\t\t\t// Total page number plugin only available in jspdf v1.0+\r\n\t\t\t\t\t\t\t\tif (typeof doc.putTotalPages === 'function') {\r\n\t\t\t\t\t\t\t\t\tstr = str + ' de ' + totalPagesExp\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdoc.setFontSize(10)\r\n\r\n\t\t\t\t\t\t\t\t// jsPDF 1.4+ uses getWidth, <1.4 uses .width\r\n\t\t\t\t\t\t\t\tvar pageSize = doc.internal.pageSize\r\n\t\t\t\t\t\t\t\tvar pageHeight = pageSize.height ? pageSize.height : pageSize.getHeight()\r\n\t\t\t\t\t\t\t\tdoc.text(str, data.settings.margin.left, pageHeight - 10)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmargin: { top: 30 },\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tdoc.save(`reporte de ${fecha}.pdf`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tNotificationManager.error(`Ocurrio un error intentelo de nuevo `);\r\n\t\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tNotificationManager.error(`Ocurrio un error intentelo de nuevo `);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { page, rowsPerPage } = this.state;\r\n\t\tconst { cantidad, reporte } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"text-left titulo\" style={estiloLetrero}>\r\n\t\t\t\t\t<h4>Reportes</h4>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Barra texto=\"Inicio > Reportes\" />\r\n\t\t\t\t<div className=\"col-sm-12\" style={{\r\n\t\t\t\t\tpaddingTop: \"20px\",\r\n\t\t\t\t\tpaddingRight: \"46px\",\r\n\t\t\t\t\tpaddingLeft: \"40px\",\r\n\t\t\t\t\tpaddingBottom: \"7px\",\r\n\t\t\t\t}}>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"container\" style={{\r\n\t\t\t\t\tpaddingTop: \"7px\",\r\n\t\t\t\t\tpaddingRight: \"44px\",\r\n\t\t\t\t\tpaddingLeft: \"40px\",\r\n\t\t\t\t\tpaddingBottom: \"0px\",\r\n\t\t\t\t\tmargin: \"0px 0px 32px\"\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<div className=\"container shadow\" style={{ background: \"white\", padding: \"27px\" }}>\r\n\t\t\t\t\t\t<form onSubmit={this.props.handleSubmit(this.handleSubmit)}>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-sm-4\" style={{ paddingTop: \"15px\", zIndex: '2' }}>\r\n\t\t\t\t\t\t\t\t\t<Field name=\"actividad\" validate={[seleccione]} valor={this.retornarValor()} onChange={this.handleChangeDos} component={ReduxFormSelectDos} options={this.actividades()} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-sm-8\" >\r\n\t\t\t\t\t\t\t\t\t<Field name=\"palabraBusqueda\" component={generarInput} validate={[validacionDoscientosCaracteres, requerido]} className=\"form-control\" label={this.state.textoAyuda} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-sm-12\" style={{\r\n\t\t\t\t\t\t\t\tpaddingTop: \"20px\",\r\n\t\t\t\t\t\t\t\tpaddingRight: \"2px\",\r\n\t\t\t\t\t\t\t\tpaddingLeft: \"15px\",\r\n\t\t\t\t\t\t\t\tpaddingBottom: \"2px\",\r\n\t\t\t\t\t\t\t}}>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-6\" style={{ zIndex: '0' }}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Field name=\"fechaInicio\" type=\"date\" validate={[requerido]} component={generarDate} label=\"Fecha de inicio\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-6\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Field name=\"fechaFin\" type=\"date\" component={generarDate} validate={[requerido]} label=\"Fecha de fin\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-sm-12\" style={{\r\n\t\t\t\t\t\t\t\tpaddingTop: \"20px\",\r\n\t\t\t\t\t\t\t\tpaddingRight: \"2px\",\r\n\t\t\t\t\t\t\t\tpaddingLeft: \"15px\",\r\n\t\t\t\t\t\t\t\tpaddingBottom: \"2px\",\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-6\" style={{ paddingLeft: \"300px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<SearchIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-dark\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ background: this.props.configuracion.botones, fontSize: \"14px\", textTransform: \"none\" }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\">Buscar</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.reiniciar}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-dark\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ background: \"gray\", fontSize: \"14px\", textTransform: \"none\" }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"><ReplayIcon /></Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Divider variant=\"middle\" />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{reporte.length === 0 ? <></> : <>\r\n\t\t\t\t\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow >\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >Operacion</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >Nombre del modulo</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >Tabla involucrada</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >Fecha de bitacora</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >Correo del responsable</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >Ip</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody >\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.reporte.map((p, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <StyledTableRow key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{p.operacion}</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >{p.nombreModulo}</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >{p.tablaInvolucrada}</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >{p.fechaBitacora}</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >{p.correo}</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell >{p.ip}</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow >\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow >\r\n\t\t\t\t\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelDisplayedRows={({ from, to, count, otro }) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn `${from}-${to === -1 ? count : to} de ${count}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelRowsPerPage={`Registros por página:`}\r\n\t\t\t\t\t\t\t\t\t\t\t\trowsPerPageOptions={[5, 10, 15]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcount={cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChangePage={this.handleChangePage}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t\t\t\t\t\tActionsComponent={TablePaginationActions}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<div style={{ paddingLeft: \"400px\" }}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.exportPDF()}\r\n\t\t\t\t\t\t\t\t\tstartIcon={<PictureAsPdfIcon />}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-dark\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ background: \"#DF1417\", fontSize: \"14px\", textTransform: \"none\" }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\">Generar PDF</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<NotificationContainer />\r\n\t\t\t</div >\r\n\t\t);\r\n\t}\r\n\r\n\r\n}\r\n\r\nconst useStyles1 = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexShrink: 0,\r\n\t\tmarginLeft: theme.spacing(2.5),\r\n\t},\r\n}));\r\n\r\n\r\nexport const TablePaginationActions = (props) => {\r\n\r\n\r\n\tconst classes = useStyles1();\r\n\tconst theme = useTheme()\r\n\tconst { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n\tconst handleFirstPageButtonClick = (event) => {\r\n\t\tonChangePage(event, 0);\r\n\t};\r\n\r\n\tconst handleBackButtonClick = (event) => {\r\n\t\tonChangePage(event, page - 1);\r\n\t};\r\n\r\n\tconst handleNextButtonClick = (event) => {\r\n\t\tonChangePage(event, page + 1);\r\n\t};\r\n\r\n\tconst handleLastPageButtonClick = (event) => {\r\n\t\tonChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleFirstPageButtonClick}\r\n\t\t\t\tdisabled={page === 0}\r\n\t\t\t\taria-label=\"first page\"\r\n\t\t\t>\r\n\t\t\t\t{theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n\t\t\t\t{theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleNextButtonClick}\r\n\t\t\t\tdisabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n\t\t\t\taria-label=\"next page\"\r\n\t\t\t>\r\n\t\t\t\t{theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleLastPageButtonClick}\r\n\t\t\t\tdisabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n\t\t\t\taria-label=\"last page\"\r\n\t\t\t>\r\n\t\t\t\t{theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n\t\t\t</IconButton>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: '#e7ecf1',\r\n\t\tcolor: 'black',\r\n\t\tfontSize: 14,\r\n\t\tfontFamily: 'sans-serif',\r\n\t\tpadding: '8px'\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tfontFamily: 'sans-serif',\r\n\t\tpadding: '10px'\r\n\t},\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n\troot: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t},\r\n\t},\r\n}))(TableRow);\r\n\r\nexport const ReduxFormSelectDos = props => {\r\n\tconst customStyles = {\r\n\t\toption: (provided, state) => ({\r\n\t\t\t...provided,\r\n\t\t\tfontSize: 13\r\n\t\t}),\r\n\t\tcontrol: styles => ({ ...styles, backgroundColor: 'white', fontSize: 13, fontFamily: 'sans-serif', zIndex: \"0\" }),\r\n\t\tsingleValue: (provided, state) => {\r\n\t\t\tconst opacity = state.isDisabled ? 0.5 : 1;\r\n\t\t\tconst transition = 'opacity 300ms';\r\n\t\t\treturn { ...provided, opacity, transition };\r\n\t\t}\r\n\t}\r\n\tconst { input, options } = props;\r\n\tconst { touched, error } = props.meta;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Select\r\n\t\t\t\t{...input}\r\n\t\t\t\tstyles={customStyles}\r\n\t\t\t\tmaxMenuHeight={185}\r\n\t\t\t\tisSearchable={true}\r\n\t\t\t\tvalue={props.valor}\r\n\t\t\t\tplaceholder='Seleccione'\r\n\t\t\t\tonChange={value => input.onChange(value)}\r\n\t\t\t\tonBlur={() => input.onBlur(input.value)}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tnoOptionsMessage={() => 'No hay ninguna actividad que mostrar'}\r\n\t\t\t/>\r\n\t\t\t{touched && ((error && <span className=\"text-danger letra form-group\">{error}</span>))}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst estiloCabecera = {\r\n\tfontSize: '14px',\r\n\tfontFamily: 'sans-serif',\r\n\tpadding: '8px',\r\n\tbackground: '#e7ecf1'\r\n\r\n}\r\n\r\nconst estiloFila = {\r\n\tfontSize: '13px',\r\n\tfontFamily: 'sans-serif',\r\n\tpadding: '8px',\r\n}\r\n\r\n\r\nconst estiloLetrero = {\r\n\tpaddingTop: \"20px\",\r\n\tpaddingRight: \"12px\",\r\n\tpaddingLeft: \"40px\",\r\n\tpaddingBottom: \"1px\"\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\treporte: state.rep.reporte,\r\n\t\tmensaje: state.rep.mensajeReporte,\r\n\t\tconfiguracion: state.conf.configuracion,\r\n\t\tcantidad: state.rep.cantidad,\r\n\t\treporteTotal: state.rep.reporteTotal\r\n\t}\r\n}\r\n\r\nlet reporte = reduxForm({\r\n\tform: 'reporte'\r\n})(ContenidoReportes)\r\n\r\nexport default withRouter(connect(mapStateToProps, { actionConsultarReporte, actualizarReporte, actionConsultarReporteTotal, actualizarMensaje, actionConsultarReporteCantidad })(reporte));\r\n"]},"metadata":{},"sourceType":"module"}