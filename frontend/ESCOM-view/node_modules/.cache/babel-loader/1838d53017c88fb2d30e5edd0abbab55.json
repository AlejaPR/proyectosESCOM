{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jeiso\\\\Desktop\\\\proyectosESCOM\\\\frontend\\\\ESCOM-view\\\\src\\\\SuperAdministrador\\\\componentes\\\\administrar\\\\ContenidoAdminActividad.js\";\nimport React from 'react'; //estilos\n\nimport '../../css/business-casual.css';\nimport '../../css/estilos.css';\nimport '../../css/bootstrap.min.css';\nimport '../../css/menu.css';\nimport MaterialTable from 'material-table'; //componentes\n\nimport Barra from '../general/BarraDirecciones.js';\nimport PopUpActividad from '../popup/PopUpActividad.js';\nimport MTableToolbar from '../../utilitario/MTableToolbar.js';\nimport { NotificationManager } from 'react-notifications';\nimport { confirmAlert } from 'react-confirm-alert';\nimport Alert from '@material-ui/lab/Alert';\nimport AlertTitle from '@material-ui/lab/AlertTitle'; //redux conexion\n\nimport { connect } from 'react-redux';\nimport { actionConsultarActividades, actionSuspenderActivarActividad, actualizarMensajeSuspender } from '../../actions/actionActividad.js';\nimport { withRouter } from 'react-router-dom';\n\nclass ContenidoAdminActividad extends React.Component {\n  componentDidUpdate() {\n    console.log('Actividades son', this.props.habilitado);\n  }\n\n  activarDesactivarActividad(codigo) {\n    confirmAlert({\n      title: '',\n      message: 'Â¿Esta seguro?',\n      buttons: [{\n        label: 'Si',\n        onClick: () => {\n          this.props.actionSuspenderActivarActividad(codigo, localStorage.getItem('Token'), this.actualizarActividades(codigo));\n        }\n      }, {\n        label: 'No',\n        onClick: () => NotificationManager.info('Se cancelo la operacion')\n      }]\n    });\n  }\n\n  actualizarActividades(codigoActividad) {\n    let nuevo = [];\n    this.props.actividades.forEach(function (task, index, array) {\n      if (task.idActividad === codigoActividad) {\n        if (task.estado === \"Suspendido\") {\n          let actividad = {\n            idActividad: task.idActividad,\n            nombre: task.nombre,\n            moduloActividad: task.moduloActividad,\n            estado: \"Activo\"\n          };\n          nuevo.push(actividad);\n        } else {\n          let actividad = {\n            idActividad: task.idActividad,\n            nombre: task.nombre,\n            moduloActividad: task.moduloActividad,\n            estado: \"Suspendido\"\n          };\n          nuevo.push(actividad);\n        }\n      } else {\n        nuevo.push(task);\n      }\n    });\n    return nuevo;\n  }\n\n  componentDidMount() {\n    this.props.actionConsultarActividades(localStorage.getItem('Token'));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"text-left titulo\",\n      style: estiloLetrero,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Administrar actividades\")), React.createElement(Barra, {\n      texto: \"Inicio > Administraci\\xF3n de actividades\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      style: {\n        paddingTop: \"20px\",\n        paddingRight: \"46px\",\n        paddingLeft: \"40px\",\n        paddingBottom: \"7px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        paddingTop: \"7px\",\n        paddingRight: \"12px\",\n        paddingLeft: \"40px\",\n        paddingBottom: \"20px\",\n        margin: \"0px 0px 32px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container shadow\",\n      style: {\n        background: \"#FFFFFF\",\n        padding: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"jumbotron p-1 jumbotron-fluid\",\n      style: fondoTabla,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.props.habilitado ? React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Alert, {\n      severity: \"error\",\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(AlertTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Sin permiso\"), \"No tiene permisos suficientes para administrar las actividades de los modulos\")) : React.createElement(MaterialTable, {\n      title: \"\",\n      localization: {\n        header: {\n          actions: ' '\n        },\n        pagination: {\n          nextTooltip: 'Siguiente ',\n          previousTooltip: 'Anterior',\n          labelDisplayedRows: '{from}-{to} de {count}',\n          lastTooltip: 'Ultima pagina',\n          firstTooltip: 'Primera pagina',\n          labelRowsSelect: 'Registros',\n          firstAriaLabel: 'oooo'\n        },\n        body: {\n          emptyDataSourceMessage: 'Aun no hay ningun usuario registrado'\n        },\n        toolbar: {\n          searchTooltip: 'Buscar',\n          searchPlaceholder: 'Buscar'\n        }\n      },\n      columns: [{\n        title: 'Nombre',\n        field: 'nombre',\n        headerStyle: estiloCabecera,\n        cellStyle: estiloFila\n      }, {\n        title: 'Modulo',\n        field: 'moduloActividad',\n        headerStyle: estiloCabecera,\n        cellStyle: estiloFila\n      }, {\n        title: 'Estado',\n        field: 'estado',\n        render: rowData => {\n          if (rowData.estado === 'Suspendido') {\n            return React.createElement(\"span\", {\n              className: \"label label-sm letra\",\n              style: {\n                textShadow: \"none!important\",\n                fontSize: \"12px\",\n                fontFamily: \"Open Sans,sans-serif\",\n                fontWeight: \"300\",\n                padding: \"3px 6px\",\n                color: \"#fff\",\n                background: \"#ED6B75\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 148\n              },\n              __self: this\n            }, rowData.estado);\n          } else {\n            return React.createElement(\"span\", {\n              className: \"label label-sm letra\",\n              style: {\n                textShadow: \"none!important\",\n                fontSize: \"12px\",\n                fontFamily: \"Open Sans,sans-serif\",\n                fontWeight: \"300\",\n                padding: \"3px 6px\",\n                color: \"#fff\",\n                background: \"#408725\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 159\n              },\n              __self: this\n            }, rowData.estado);\n          }\n        },\n        headerStyle: estiloCabecera,\n        cellStyle: estiloFila\n      }],\n      data: this.props.actividades,\n      options: {\n        search: true,\n        rowStyle: estiloFila\n      },\n      actions: [{\n        icon: 'edit',\n        tooltip: 'Editar informacion',\n        onClick: (event, rowData) => {\n          this.props.actionAsignarCedula(rowData.numeroDocumento);\n          this.props.history.push('/editarUsuario');\n        }\n      }, {\n        icon: 'restore',\n        tooltip: 'Suspender / Activar',\n        onClick: (event, rowData) => this.activarDesactivarActividad(rowData.idActividad)\n      }],\n      components: {\n        Toolbar: props => React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-sm-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            padding: '16px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(PopUpActividad, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"col-sm-8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(MTableToolbar, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }))))\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst estiloCabecera = {\n  fontSize: '13px',\n  fontFamily: 'sans-serif',\n  padding: '8px',\n  background: '#e7ecf1'\n};\nconst estiloFila = {\n  fontSize: '12px',\n  fontFamily: 'sans-serif',\n  padding: '8px'\n};\nconst estiloLetrero = {\n  paddingTop: \"20px\",\n  paddingRight: \"12px\",\n  paddingLeft: \"40px\",\n  paddingBottom: \"1px\"\n};\nconst fondoTabla = {\n  background: \"#EAF2F2\"\n};\n\nfunction mapStateToProps(state) {\n  return {\n    actividades: state.act.actividadesRegistradas,\n    habilitado: state.act.estadoActividades,\n    configuracion: state.conf.configuracion\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, {\n  actionConsultarActividades,\n  actionSuspenderActivarActividad,\n  actualizarMensajeSuspender\n})(ContenidoAdminActividad));","map":{"version":3,"sources":["C:/Users/jeiso/Desktop/proyectosESCOM/frontend/ESCOM-view/src/SuperAdministrador/componentes/administrar/ContenidoAdminActividad.js"],"names":["React","MaterialTable","Barra","PopUpActividad","MTableToolbar","NotificationManager","confirmAlert","Alert","AlertTitle","connect","actionConsultarActividades","actionSuspenderActivarActividad","actualizarMensajeSuspender","withRouter","ContenidoAdminActividad","Component","componentDidUpdate","console","log","props","habilitado","activarDesactivarActividad","codigo","title","message","buttons","label","onClick","localStorage","getItem","actualizarActividades","info","codigoActividad","nuevo","actividades","forEach","task","index","array","idActividad","estado","actividad","nombre","moduloActividad","push","componentDidMount","render","estiloLetrero","paddingTop","paddingRight","paddingLeft","paddingBottom","margin","background","padding","fondoTabla","header","actions","pagination","nextTooltip","previousTooltip","labelDisplayedRows","lastTooltip","firstTooltip","labelRowsSelect","firstAriaLabel","body","emptyDataSourceMessage","toolbar","searchTooltip","searchPlaceholder","field","headerStyle","estiloCabecera","cellStyle","estiloFila","rowData","textShadow","fontSize","fontFamily","fontWeight","color","search","rowStyle","icon","tooltip","event","actionAsignarCedula","numeroDocumento","history","Toolbar","mapStateToProps","state","act","actividadesRegistradas","estadoActividades","configuracion","conf"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\n//estilos\r\nimport '../../css/business-casual.css'\r\nimport '../../css/estilos.css'\r\nimport '../../css/bootstrap.min.css'\r\nimport '../../css/menu.css'\r\n\r\nimport MaterialTable from 'material-table';\r\n\r\n//componentes\r\nimport Barra from '../general/BarraDirecciones.js'\r\nimport PopUpActividad from '../popup/PopUpActividad.js'\r\nimport MTableToolbar from '../../utilitario/MTableToolbar.js';\r\nimport { NotificationManager } from 'react-notifications';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport AlertTitle from '@material-ui/lab/AlertTitle';\r\n\r\n//redux conexion\r\nimport { connect } from 'react-redux';\r\nimport { actionConsultarActividades, actionSuspenderActivarActividad, actualizarMensajeSuspender } from '../../actions/actionActividad.js'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ContenidoAdminActividad extends React.Component {\r\n\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tconsole.log('Actividades son', this.props.habilitado);\r\n\t}\r\n\r\n\r\n\tactivarDesactivarActividad(codigo) {\r\n\t\tconfirmAlert({\r\n\t\t\ttitle: '',\r\n\t\t\tmessage: 'Â¿Esta seguro?',\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Si',\r\n\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\tthis.props.actionSuspenderActivarActividad(codigo, localStorage.getItem('Token'), this.actualizarActividades(codigo));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'No',\r\n\t\t\t\t\tonClick: () => NotificationManager.info('Se cancelo la operacion')\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tactualizarActividades(codigoActividad) {\r\n\t\tlet nuevo = [];\r\n\t\tthis.props.actividades.forEach(function (task, index, array) {\r\n\t\t\tif (task.idActividad === codigoActividad) {\r\n\t\t\t\tif (task.estado === \"Suspendido\") {\r\n\t\t\t\t\tlet actividad = {\r\n\t\t\t\t\t\tidActividad: task.idActividad,\r\n\t\t\t\t\t\tnombre: task.nombre,\r\n\t\t\t\t\t\tmoduloActividad: task.moduloActividad,\r\n\t\t\t\t\t\testado: \"Activo\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnuevo.push(actividad);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet actividad = {\r\n\t\t\t\t\t\tidActividad: task.idActividad,\r\n\r\n\t\t\t\t\t\tnombre: task.nombre,\r\n\t\t\t\t\t\tmoduloActividad: task.moduloActividad,\r\n\t\t\t\t\t\testado: \"Suspendido\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnuevo.push(actividad);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnuevo.push(task);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn nuevo;\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.actionConsultarActividades(localStorage.getItem('Token'));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"text-left titulo\" style={estiloLetrero}>\r\n\t\t\t\t\t<h4>Administrar actividades</h4>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Barra texto=\"Inicio > AdministraciÃ³n de actividades\" />\r\n\t\t\t\t<div className=\"col-sm-12\" style={{\r\n\t\t\t\t\tpaddingTop: \"20px\",\r\n\t\t\t\t\tpaddingRight: \"46px\",\r\n\t\t\t\t\tpaddingLeft: \"40px\",\r\n\t\t\t\t\tpaddingBottom: \"7px\"\r\n\t\t\t\t}}>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"container\" style={{\r\n\t\t\t\t\tpaddingTop: \"7px\",\r\n\t\t\t\t\tpaddingRight: \"12px\",\r\n\t\t\t\t\tpaddingLeft: \"40px\",\r\n\t\t\t\t\tpaddingBottom: \"20px\",\r\n\t\t\t\t\tmargin: \"0px 0px 32px\"\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<div className=\"container shadow\" style={{ background: \"#FFFFFF\", padding: \"30px\" }}>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div className=\"jumbotron p-1 jumbotron-fluid\" style={fondoTabla}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.habilitado ? <div className=\"col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<Alert severity=\"error\" variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t\t<AlertTitle>Sin permiso</AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\tNo tiene permisos suficientes para administrar las actividades de los modulos</Alert>\r\n\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t\t\t\t\t\t\tlocalization={{\r\n\t\t\t\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions: ' '\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnextTooltip: 'Siguiente ',\r\n\t\t\t\t\t\t\t\t\t\t\t\tpreviousTooltip: 'Anterior',\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelDisplayedRows: '{from}-{to} de {count}',\r\n\t\t\t\t\t\t\t\t\t\t\t\tlastTooltip: 'Ultima pagina',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfirstTooltip: 'Primera pagina',\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelRowsSelect: 'Registros',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfirstAriaLabel: 'oooo'\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tbody: {\r\n\t\t\t\t\t\t\t\t\t\t\t\temptyDataSourceMessage: 'Aun no hay ningun usuario registrado'\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\ttoolbar: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsearchTooltip: 'Buscar',\r\n\t\t\t\t\t\t\t\t\t\t\t\tsearchPlaceholder: 'Buscar'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t\t\t\t\t{ title: 'Nombre', field: 'nombre', headerStyle: estiloCabecera, cellStyle: estiloFila },\r\n\t\t\t\t\t\t\t\t\t\t\t{ title: 'Modulo', field: 'moduloActividad', headerStyle: estiloCabecera, cellStyle: estiloFila },\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Estado', field: 'estado',\r\n\t\t\t\t\t\t\t\t\t\t\t\trender: rowData => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (rowData.estado === 'Suspendido') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <span className=\"label label-sm letra\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextShadow: \"none!important\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"12px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: \"Open Sans,sans-serif\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"300\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"3px 6px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"#ED6B75\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>{rowData.estado}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <span className=\"label label-sm letra\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextShadow: \"none!important\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"12px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: \"Open Sans,sans-serif\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"300\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"3px 6px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"#408725\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>{rowData.estado}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\theaderStyle: estiloCabecera, cellStyle: estiloFila\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\tdata={this.props.actividades}\r\n\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\tsearch: true,\r\n\t\t\t\t\t\t\t\t\t\t\trowStyle: estiloFila\r\n\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'edit',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: 'Editar informacion',\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: (event, rowData) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.actionAsignarCedula(rowData.numeroDocumento);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.history.push('/editarUsuario');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'restore',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: 'Suspender / Activar',\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: (event, rowData) => this.activarDesactivarActividad(rowData.idActividad)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\r\n\t\t\t\t\t\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\t\t\t\t\t\tToolbar: props => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ padding: '16px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PopUpActividad />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MTableToolbar {...props} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\r\n}\r\n\r\nconst estiloCabecera = {\r\n\tfontSize: '13px',\r\n\tfontFamily: 'sans-serif',\r\n\tpadding: '8px',\r\n\tbackground: '#e7ecf1'\r\n\r\n}\r\n\r\nconst estiloFila = {\r\n\tfontSize: '12px',\r\n\tfontFamily: 'sans-serif',\r\n\tpadding: '8px',\r\n}\r\n\r\nconst estiloLetrero = {\r\n\tpaddingTop: \"20px\",\r\n\tpaddingRight: \"12px\",\r\n\tpaddingLeft: \"40px\",\r\n\tpaddingBottom: \"1px\"\r\n}\r\n\r\n\r\nconst fondoTabla = {\r\n\tbackground: \"#EAF2F2\"\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tactividades: state.act.actividadesRegistradas,\r\n\t\thabilitado: state.act.estadoActividades,\r\n\t\tconfiguracion: state.conf.configuracion\r\n\t}\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, { actionConsultarActividades, actionSuspenderActivarActividad, actualizarMensajeSuspender })(ContenidoAdminActividad));\r\n"]},"metadata":{},"sourceType":"module"}